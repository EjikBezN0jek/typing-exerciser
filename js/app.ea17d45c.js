(function(){"use strict";var e={1139:function(e,t,a){var o=a(9242),l=a(3396),n=a(7139),s=a(4870);const r={class:"btn"};function i(e,t){return(0,l.wg)(),(0,l.iD)("button",r,[(0,l.WI)(e.$slots,"default",{},void 0,!0)])}var c=a(89);const u={},v=(0,c.Z)(u,[["render",i],["__scopeId","data-v-12752fc2"]]);var d=v;const _={class:"modal"},m={class:"modal__dialog"},p={class:"modal__title"},f={class:"modal__content"},w={class:"modal__text"};var g={__name:"BaseModal",props:["modelValue","title","text","confirmButtonText"],emits:["confirm","close"],setup(e,{emit:t}){const a=()=>{t("close"),t("confirm")},o=e=>{"Enter"===e.key&&a()};return(0,l.bv)((()=>{document.body.classList.add("lock"),document.addEventListener("keydown",o)})),(0,l.Jd)((()=>{document.body.classList.remove("lock"),document.removeEventListener("keydown",o)})),(t,o)=>((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[(0,l._)("div",_,[(0,l._)("div",m,[(0,l._)("header",null,[(0,l.WI)(t.$slots,"header",{},(()=>[(0,l._)("p",p,(0,n.zw)(e.title),1)]))]),(0,l._)("div",f,[(0,l.WI)(t.$slots,"default",{},(()=>[(0,l._)("p",w,(0,n.zw)(e.text),1)]))]),(0,l._)("footer",null,[(0,l.WI)(t.$slots,"footer",{},(()=>[(0,l.Wm)(d,{onClick:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.confirmButtonText),1)])),_:1})]))])])])]))}};const y=(0,c.Z)(g,[["__scopeId","data-v-5593acd6"]]);var b=y;const k=(e,t,a=[2,0,1,1,1,2])=>t[e%100>4&&e%100<20?2:a[e%10<5?e%10:5]],h=e=>((0,l.dD)("data-v-8a4614fe"),e=e(),(0,l.Cn)(),e),S={class:"modal__stats"},x={class:"stats__item"},C={class:"item__title"},H={class:"stats__item"},E={class:"item__title"},I=h((()=>(0,l._)("span",null,"зн./мин",-1))),j={key:0,class:"highscore"};var z={__name:"FinishModal",props:["mistakesCount","speed","isNewHighscore","dictionary"],emits:["startExercise"],setup(e,{emit:t}){const a=e;return(e,o)=>((0,l.wg)(),(0,l.j4)(b,{onConfirm:o[0]||(o[0]=e=>t("startExercise")),title:"Поздравляем!","confirm-button-text":"Повторить"},{default:(0,l.w5)((()=>[(0,l._)("div",S,[(0,l._)("div",x,[(0,l._)("p",C,(0,n.zw)(a.mistakesCount),1),(0,l._)("p",null,(0,n.zw)((0,s.SU)(k)(a.mistakesCount,a.dictionary)),1)]),(0,l._)("div",H,[(0,l._)("p",E,(0,n.zw)(a.speed),1),I,a.isNewHighscore?((0,l.wg)(),(0,l.iD)("p",j," Новый рекорд! ")):(0,l.kq)("",!0)])])])),_:1}))}};const D=(0,c.Z)(z,[["__scopeId","data-v-8a4614fe"]]);var O=D;const L={class:"field"},T={class:"text"},W={class:"text__writting"},q={class:"text__remaining"};var A={__name:"Keyfield",props:["correctString","clippedString"],emits:["keydown"],setup(e,{emit:t}){const a=e;return(0,l.bv)((()=>{document.addEventListener("keydown",(e=>t("keydown",e)))})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",L,[(0,l._)("div",T,[(0,l._)("span",W,(0,n.zw)(a.correctString),1),(0,l._)("span",q,(0,n.zw)(a.clippedString),1)])]))}};const Z=(0,c.Z)(A,[["__scopeId","data-v-9ee7dcf4"]]);var B=Z;const F={class:"keyboard"};var N={__name:"Keyboard",props:["wrongSymbol","correctSymbol"],setup(e){const t=e,a=[["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\"],["CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","Shift"],[" "]],o=[{symbols:["1","2","0","-","=","q","p","[","]","a",";","'","z","/"],code:"#A5D6A7"},{symbols:["3","9","w","o","s","l","x","."],code:"#CE93D8"},{symbols:["4","8","e","i","d","k","c",","],code:"#EF9A9A"},{symbols:["5","6","r","t","f","g","v","b"],code:"#FFCC80"},{symbols:["7","y","u","h","j","n","m"],code:"#80DEEA"},{symbols:["`","Backspace","Tab","\\","CapsLock","Enter","Shift"],code:"#EEEEEE"},{symbols:[" "],code:"#B0BEC5"}],s=e=>o.find((t=>t.symbols.includes(e))).code,r=e=>" "===e?"Space":e;return(e,o)=>((0,l.wg)(),(0,l.iD)("div",F,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(a,(e=>(0,l._)("div",{key:e,class:"keyboard__row"},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,(e=>((0,l.wg)(),(0,l.iD)("button",{key:e,class:(0,n.C_)(["keyboard__btn",[{correct:e===t.correctSymbol},{wrong:e===t.wrongSymbol},r(e)]]),style:(0,n.j5)({"background-color":s(e)})},(0,n.zw)(e.toUpperCase()),7)))),128))]))),64))]))}};const U=(0,c.Z)(N,[["__scopeId","data-v-a3dc76c2"]]);var K=U;const $={class:"loader"};function J(e,t){return(0,l.wg)(),(0,l.iD)("div",$)}const Y={},M=(0,c.Z)(Y,[["render",J],["__scopeId","data-v-4c5ca462"]]);var P=M,R=a(4161);const V=R.Z.create({baseURL:"https://baconipsum.com/api/"}),G=async()=>{try{const{data:e}=await V.get("",{params:{type:"all-meat",sentences:5}});return e[0]}catch(e){throw new Error(e)}},Q={key:0,class:"container"},X=(0,l._)("h1",{class:"title"},"Тренажер слепой печати",-1),ee={class:"info"},te={class:"info__stats"},ae={class:"stats__item"},oe={class:"stats__item"},le={class:"stats__highscore"};var ne={__name:"App",setup(e){const t=["ошибка","ошибки","ошибок"],a=(0,s.iH)(0),r=(0,s.iH)(!1),i=async()=>{S(),clearInterval(a.value);const e=await G();d(e),r.value=!1,a.value=setInterval(x,1e3)},c=(0,s.iH)(""),u=(0,s.iH)(""),v=(0,s.iH)(""),d=e=>{e&&(c.value=e.slice(0,50).trim().toLowerCase()),v.value=c.value},_=(0,s.iH)(0),m=(0,s.iH)(3),p=(0,s.iH)(""),f=(0,s.iH)(""),w=(0,s.iH)(!1),g=(0,s.iH)(!1),y=(0,s.iH)(0),h=(0,s.iH)(0),S=()=>{y.value=0,h.value=0,_.value=0,f.value="",u.value="",v.value="",w.value=!1,g.value=!1},x=()=>{C(),H()},C=()=>{y.value++},H=()=>{u.value.length&&(h.value=Math.floor(u.value.length/y.value*60))},E=(0,l.Fl)((()=>r.value||q.value||w.value||g.value)),I=e=>{E.value||("Space"===e.code&&e.preventDefault(),A(e.key),q.value?clearInterval(a.value):D(e.key))},j=(0,s.iH)(0),z=(0,s.iH)(0),D=e=>{clearTimeout(j.value),clearTimeout(z.value),p.value="",f.value="";const t=e.toLowerCase();t===c.value[u.value.length]?(p.value=e,j.value=setTimeout((()=>p.value=""),500),u.value=u.value.concat(t),v.value=v.value.substring(1)):(f.value=e,z.value=setTimeout((()=>f.value=""),500),_.value++)};(0,l.YP)(u,(e=>{e.length===c.value.length&&T()})),(0,l.YP)(_,(e=>{e>m.value&&(w.value=!0,clearInterval(a.value))}));const L=(0,s.iH)(!1),T=()=>{g.value=!0,clearInterval(a.value),h.value>Z.value&&(L.value=!0,Z.value=h.value,W())},W=()=>{localStorage.setItem("highscore",JSON.stringify(Z.value))},q=(0,s.iH)(!1),A=e=>{q.value=!/^[a-zA-Z,.:;'"-\\\[\]=`\d\s]+$/.test(e)},Z=(0,s.iH)(0),F=()=>JSON.parse(localStorage.getItem("highscore"))??localStorage.setItem("highscore",JSON.stringify(Z.value)),N=(0,s.iH)(!1),U=()=>{N.value=window.innerWidth<768};return(0,l.bv)((()=>{U(),N.value||(r.value=!0),window.onresize=U,Z.value=F()})),(e,a)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[N.value?((0,l.wg)(),(0,l.j4)(b,{key:0,title:"Упс!",text:"Пожалуйста, используйте экран побольше","confirm-button-text":"Ок"})):(0,l.kq)("",!0),r.value&&!N.value?((0,l.wg)(),(0,l.j4)(b,{key:1,onClose:a[0]||(a[0]=e=>r.value=!1),onConfirm:i,title:"Тренажер слепой печати",text:"Пальцы в основной позиции ASDF и JKL;","confirm-button-text":"Начать"})):(0,l.kq)("",!0),w.value?((0,l.wg)(),(0,l.j4)(b,{key:2,onClose:a[1]||(a[1]=e=>w.value=!1),onConfirm:i,title:"Упс!",text:`Не более ${m.value} ошибок. Попробуйте еще раз`,"confirm-button-text":"Повторить"},null,8,["text"])):(0,l.kq)("",!0),q.value?((0,l.wg)(),(0,l.j4)(b,{key:3,onClose:a[2]||(a[2]=e=>q.value=!1),text:"Пожалуйста, смените раскладку на English","confirm-button-text":"Ок"})):(0,l.kq)("",!0),g.value?((0,l.wg)(),(0,l.j4)(O,{key:4,onClose:a[3]||(a[3]=e=>g.value=!1),onStartExercise:i,dictionary:t,mistakesCount:_.value,speed:h.value,isNewHighscore:L.value},null,8,["mistakesCount","speed","isNewHighscore"])):(0,l.kq)("",!0),(0,l.Wm)(o.uT,{name:"fade"},{default:(0,l.w5)((()=>[v.value&&!N.value?((0,l.wg)(),(0,l.iD)("div",Q,[X,(0,l._)("div",ee,[(0,l._)("div",te,[(0,l._)("p",ae,[(0,l._)("span",null,(0,n.zw)(_.value),1),(0,l.Uk)(" "+(0,n.zw)((0,s.SU)(k)(_.value,t)),1)]),(0,l._)("p",oe,[(0,l._)("span",null,(0,n.zw)(h.value),1),(0,l.Uk)(" зн./мин ")])]),(0,l._)("button",{class:"restart",onClick:i}),(0,l._)("p",le,"Личный рекорд: "+(0,n.zw)(Z.value)+" зн./мин",1)]),(0,l.Wm)(B,{onKeydown:I,correctString:u.value,clippedString:v.value},null,8,["correctString","clippedString"]),(0,l.Wm)(K,{wrongSymbol:f.value,correctSymbol:p.value},null,8,["wrongSymbol","correctSymbol"])])):((0,l.wg)(),(0,l.j4)(P,{key:1}))])),_:1})],64))}};const se=ne;var re=se;(0,o.ri)(re).mount("#app")}},t={};function a(o){var l=t[o];if(void 0!==l)return l.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,o,l,n){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],l=e[u][1],n=e[u][2];for(var r=!0,i=0;i<o.length;i++)(!1&n||s>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[i])}))?o.splice(i--,1):(r=!1,n<s&&(s=n));if(r){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,l,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,n,s=o[0],r=o[1],i=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(i)var u=i(a)}for(t&&t(o);c<s.length;c++)n=s[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},o=self["webpackChunktest_type"]=self["webpackChunktest_type"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(1139)}));o=a.O(o)})();
//# sourceMappingURL=app.ea17d45c.js.map